# æ ‡å‡†åŒ–
æŒ‰ç…§ä»¥ä¸‹å·¥ä½œæµç¨‹å¼€å§‹
1. å®Œæˆä»£ç æ›´æ”¹(`git add <file>`)
2. æäº¤è¿™äº›æ›´æ”¹(`git commit -m ""`/`git cz`/`cz`ï¼‰ï¼Œæ­¤æ—¶ä¼šè°ƒç”¨æµ‹è¯•å’ŒLint
3. æ‹‰å–æ‰€æœ‰æ ‡ç­¾
4. è¿è¡ŒÂ [`npm version [patch|minor|major]`](https://docs.npmjs.com/cli/version)Â å‘½ä»¤æ›´æ–°é¡¹ç›®ç‰ˆæœ¬å’Œè‡ªåŠ¨è®°å½•æ›´æ”¹
5. æ¨é€åˆ°è¿œç¨‹ä»“åº“(git push)

# å‡†å¤‡å·¥ä½œ
## ä»£ç æ ¼å¼åŒ–
```
pnpm add -D @biomejs/biome
```

biome.json:
```json
{
	"$schema": "https://biomejs.dev/schemas/2.2.4/schema.json",
	"vcs": {
		"enabled": false,
		"clientKind": "git",
		"useIgnoreFile": false
	},
	"files": {
		"ignoreUnknown": false,
		"includes": [
			"**/src/**/*",
			"**/.vscode/**/*",
			"**/index.html",
			"**/vite.config.js",
			"!**/src/routeTree.gen.ts",
			"!**/src/gen"
		]
	},
	"formatter": {
		"enabled": true,
		"indentStyle": "tab"
	},
	"assist": {
		"actions": {
			"source": {
				"organizeImports": "on"
			}
		}
	},
	"linter": {
		"enabled": true,
		"rules": {
			"recommended": true
		}
	},
	"javascript": {
		"parser": {
			"unsafeParameterDecoratorsEnabled": true
		},
		"formatter": {
			"quoteStyle": "single",
			"jsxQuoteStyle": "single",
			"trailingCommas": "all",
			"quoteProperties": "asNeeded",
			"semicolons": "asNeeded",
			"arrowParentheses": "always",
			"enabled": true,
			"indentStyle": "tab",
			"indentWidth": 2,
			"lineEnding": "lf",
			"lineWidth": 80,
			"bracketSameLine": false,
			"attributePosition": "multiline",
			"expand": "auto"
		}
	}
}

```

## Gitæäº¤è§„èŒƒåŒ–

## è‡ªåŠ¨Â **lint æ‚¨çš„æäº¤æ¶ˆæ¯**Â ã€Â **ä»£ç **Â ï¼Œå¹¶åœ¨æäº¤æˆ–æ¨é€æ—¶è¿è¡Œæµ‹è¯•
[husky](https://typicode.github.io/husky/how-to.html)
```sh
pnpm add --save-dev husky

pnpm exec husky init

echo > .husky/pre-commit <<EOF
pnpm check
pnpm test
EOF
```

### å¯¹æš‚å­˜çš„ git æ–‡ä»¶è¿è¡Œæ ¼å¼åŒ–ç¨‹åºå’Œ linter ç­‰ä»»åŠ¡
[lint-staged](https://github.com/lint-staged/lint-staged?tab=readme-ov-file#installation-and-setup)
```
pnpm install -D lint-staged
```
### Gitæäº¤è§„èŒƒåŒ–
[cz-git](https://cz-git.qbb.sh/zh/config/)
```sh
npm install -g commitizen
pnpm install -D cz-git
```

ä¿®æ”¹Â `package.json`Â æ·»åŠ Â `config`Â æŒ‡å®šä½¿ç”¨çš„é€‚é…å™¨
```json
    {
      "scripts": {
    
      },
      "config": {
        "commitizen": {
          "path": "node_modules/cz-git"
        }
      }
    }
```

.commitlintrc.cjsï¼š
```js
const { defineConfig } = require('cz-git')

module.exports = defineConfig({
    rules: {
        // @see: https://commitlint.js.org/#/reference-rules
    },
    prompt: {
        alias: { fd: 'docs: fix typos' },
        messages: {
            type: 'Select the type of change that you\'re committing:',
            scope: 'Denote the SCOPE of this change (optional):',
            customScope: 'Denote the SCOPE of this change:',
            subject: 'Write a SHORT, IMPERATIVE tense description of the change:\n',
            body: 'Provide a LONGER description of the change (optional). Use "|" to break new line:\n',
            breaking: 'List any BREAKING CHANGES (optional). Use "|" to break new line:\n',
            footerPrefixesSelect: 'Select the ISSUES type of changeList by this change (optional):',
            customFooterPrefix: 'Input ISSUES prefix:',
            footer: 'List any ISSUES by this change. E.g.: #31, #34:\n',
            generatingByAI: 'Generating your AI commit subject...',
            generatedSelectByAI: 'Select suitable subject by AI generated:',
            confirmCommit: 'Are you sure you want to proceed with the commit above?',
        },
        types: [
            { value: 'feat', name: 'feat:     âœ¨  A new feature', emoji: ':sparkles:' },
            { value: 'fix', name: 'fix:      ğŸ›  A bug fix', emoji: ':bug:' },
            { value: 'docs', name: 'docs:     ğŸ“  Documentation only changes', emoji: ':memo:' },
            { value: 'style', name: 'style:    ğŸ’„  Changes that do not affect the meaning of the code', emoji: ':lipstick:' },
            { value: 'refactor', name: 'refactor: â™»ï¸   A code change that neither fixes a bug nor adds a feature', emoji: ':recycle:' },
            { value: 'perf', name: 'perf:     âš¡ï¸  A code change that improves performance', emoji: ':zap:' },
            { value: 'test', name: 'test:     âœ…  Adding missing tests or correcting existing tests', emoji: ':white_check_mark:' },
            { value: 'build', name: 'build:    ğŸ“¦ï¸   Changes that affect the build system or external dependencies', emoji: ':package:' },
            { value: 'ci', name: 'ci:       ğŸ¡  Changes to our CI configuration files and scripts', emoji: ':ferris_wheel:' },
            { value: 'chore', name: 'chore:    ğŸ”¨  Other changes that don\'t modify src or test files', emoji: ':hammer:' },
            { value: 'revert', name: 'revert:   âªï¸  Reverts a previous commit', emoji: ':rewind:' },
        ],
        useEmoji: true,
        emojiAlign: 'center',
        useAI: false,
        aiNumber: 1,
        themeColorCode: '',
        scopes: [],
        allowCustomScopes: true,
        allowEmptyScopes: true,
        customScopesAlign: 'bottom',
        customScopesAlias: 'custom',
        emptyScopesAlias: 'empty',
        upperCaseSubject: null,
        markBreakingChangeMode: false,
        allowBreakingChanges: ['feat', 'fix'],
        breaklineNumber: 100,
        breaklineChar: '|',
        skipQuestions: [],
        issuePrefixes: [{ value: 'closed', name: 'closed:   ISSUES has been processed' }],
        customIssuePrefixAlign: 'top',
        emptyIssuePrefixAlias: 'skip',
        customIssuePrefixAlias: 'custom',
        allowCustomIssuePrefix: true,
        allowEmptyIssuePrefix: true,
        confirmColorize: true,
        scopeOverrides: undefined,
        defaultBody: '',
        defaultIssues: '',
        defaultScope: '',
        defaultSubject: '',
    },
})

```

##  è‡ªåŠ¨è®°å½•ä¿®æ”¹
[conventional-changelog](https://www.npmjs.com/package/conventional-changelog)
```
pnpm add conventional-changelog
pnpm add -D conventional-changelog-ember
```

æ·»åŠ åˆ°package jsonæ–‡ä»¶ä¸­ï¼š
```json
{
  "scripts": {
    "version": "conventional-changelog -p ember && git add CHANGELOG.md && git add package.json",
    "version:first": "conventional-changelog -p ember -r 0"
  }
}
```

ç„¶åå°±å¯ä»¥:
- patch: å°ç‰ˆæœ¬, ä¿®æ”¹X.Y.Zçš„Zï¼Œä¾‹å¦‚0.0.1 -> 0.0.2
- minorï¼šä¸­ç‰ˆæœ¬, ä¿®æ”¹X.Y.Zçš„Zï¼Œä¾‹å¦‚0.0.1 -> 0.1.0
- majorï¼šå¤§ç‰ˆæœ¬ï¼Œç ´åæ€§æ›´æ”¹. , ä¿®æ”¹X.Y.Zçš„Xï¼Œä¾‹å¦‚0.0.1 -> 1.0.0
```sh
pnpm version [patch|minor|major]
```